<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integritetspolicy / Privacy Policy - Vaccinationsjournalen</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
            position: relative;
        }

        h1, h2 {
            color: #1a73e8;
        }

        a {
            color: #1a73e8;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        nav {
            margin-bottom: 30px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }

        nav a {
            margin-right: 20px;
            font-weight: bold;
        }

        .lang-toggle-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #1a73e8;
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .lang-toggle-btn:hover {
            background: #1557b0;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Language-button -->
    <button class="lang-toggle-btn" onclick="toggleLanguage()">English</button>

    <!-- Swedish navigation -->
    <nav class="lang-sv">
        <a href="privacy.html">Integritet</a>
        <a href="terms.html">Användarvillkor</a>
    </nav>

    <!-- English navigation -->
    <nav class="lang-en hidden">
        <a href="privacy.html">Privacy Policy</a>
        <a href="terms.html">Terms of Service</a>
    </nav>

    <!-- Svenskt content -->
    <div class="lang-sv">
        <h1>Integritetspolicy för Vaccinationsjournalen</h1>
        <p>Senast uppdaterad: <strong>12 september 2025</strong></p>
        <p>Tack för att du använder Vaccinationsjournalen. Din integritet är mycket viktig för oss och vi är engagerade i att skydda den. Denna sida förklarar hur vi hanterar dina uppgifter när du loggar in med ditt Sociala (Google, Facebook, Microsoft) konto.</p>

        <h2>Vilken information vi samlar in</h2>
        <p>När du loggar in med ditt Sociala konto samlar vi in följande information:</p>
        <ul>
            <li>Ditt användarnamn</li>
            <li>Din e-postadress</li>
        </ul>
        <p>Dessa uppgifter lagras säkert i vår databas och används endast för att identifiera dig och ge dig tillgång till ditt konto.</p>
        <p>När du loggar in med lösenord är ditt lösenord krypterat så ingen, inte ens administratör på Vaccinationsjournalen, kan se eller komma åt ditt lösenord.</p>

        <h2>Hur vi använder informationen</h2>
        <p>Vi använder ditt användarnamn och din e-postadress enbart för att identifiera ditt konto och ge dig möjlighet att använda appen. Vi delar inte din information med tredje part.</p>

        <h2>Radering av data</h2>
        <p>Om du väljer att radera ditt konto raderas ditt användarnamn och din e-postadress permanent från vår databas och kan inte återställas.</p>

        <h2>Kontakt</h2>
        <p>Om du har frågor om denna integritetspolicy eller hur dina uppgifter hanteras kan du kontakta oss på:</p>
        <p><a href="mailto:vaccinationsjournalen@gmail.com">vaccinationsjournalen@gmail.com</a><br>
             Ansvarig: Tomas Varo</p>
    </div>

    <!-- Engelskt content -->
    <div class="lang-en hidden">
        <h1>Privacy Policy for Vaccination Journal</h1>
        <p>Last updated: <strong>September 12, 2025</strong></p>
        <p>Thank you for using the Vaccination Journal App. Your privacy is very important to us, and we are committed to protecting it. This page explains how we handle your data when you log in using your Social (Google, Facebook, Microsoft) account.</p>

        <h2>Information We Collect</h2>
        <p>When you log in with your Social account, we collect the following information:</p>
        <ul>
            <li>Your username</li>
            <li>Your email address</li>
        </ul>
        <p>This information is stored securely in our database and is used only to identify you and provide access to your account.</p>
        <p>When you log in with a password, your password is encrypted so that no one, not even an administrator of the Vaccination Journal, can see or access it.</p>

        <h2>How We Use Your Information</h2>
        <p>We use your username and email address solely for the purpose of identifying your account and enabling you to use the app. We do not share your information with third parties.</p>

        <h2>Data Deletion</h2>
        <p>If you choose to delete your account, your username and email address are permanently deleted from our database and cannot be recovered.</p>

        <h2>Contact Us</h2>
        <p>If you have any questions about this Privacy Policy or how your data is handled, you can contact us at:</p>
        <p><a href="mailto:vaccinationsjournalen@gmail.com">vaccinationsjournalen@gmail.com</a><br>
             Owner: Tomas Varo</p>
      
    </div>

    <script>
    // Language management
    function setLanguage(lang) {
        const svEls = document.querySelectorAll('.lang-sv');
        const enEls = document.querySelectorAll('.lang-en');
        const btn = document.querySelector('.lang-toggle-btn');

        if (lang === 'sv') {
            svEls.forEach(e => e.classList.remove('hidden'));
            enEls.forEach(e => e.classList.add('hidden'));
            btn.textContent = 'English';
            document.documentElement.lang = 'sv';
        } else {
            svEls.forEach(e => e.classList.add('hidden'));
            enEls.forEach(e => e.classList.remove('hidden'));
            btn.textContent = 'Svenska';
            document.documentElement.lang = 'en';
        }

        // Save language selection (same key for both pages)
        localStorage.setItem('vj_lang', lang);
        
        // Update navigation links with language parameters
        updateNavigationLinks(lang);
    }

    function updateNavigationLinks(lang) {
        const navLinks = document.querySelectorAll('nav a');
        navLinks.forEach(link => {
            const href = link.getAttribute('href');
            if (href && (href.includes('privacy.html') || href.includes('terms.html'))) {
                // Remove any existing lang parameter and add a new one
                const url = new URL(href, window.location.origin);
                url.searchParams.set('lang', lang);
                link.href = url.pathname + '?' + url.searchParams.toString();
            }
        });
    }

    function toggleLanguage() {
        const current = document.documentElement.lang === 'sv' ? 'sv' : 'en';
        setLanguage(current === 'sv' ? 'en' : 'sv');
    }

    // Auto-select language on first visit
    (function initLanguage() {
        // 1) Try reading ?lang=sv or ?lang=en from URL
        const params = new URLSearchParams(window.location.search);
        const urlLang = params.get('lang');
        if (urlLang === 'sv' || urlLang === 'en') {
            setLanguage(urlLang);
            return;
        }

        // 2) If nothing in URL – use saved selection (same key for both pages)
        const saved = localStorage.getItem('vj_lang');
        if (saved === 'sv' || saved === 'en') {
            setLanguage(saved);
            return;
        }

        // 3) Otherwise – auto from the browser
        const browserLang = (navigator.language || navigator.userLanguage || 'en').toLowerCase();
        if (browserLang.startsWith('sv')) {
            setLanguage('sv');
        } else {
            setLanguage('en');
        }
    })();
</script>
</body>
</html>
